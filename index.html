<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ã‚¦ã‚¯ãƒ¬ãƒ¬ã§ã‚ãã¼ã†</title>
<style>:root{ --vh: 1vh; }

  html, body {
  margin: 0; padding: 0;
  width: 100%;
  /* iPhone Safari UIãƒãƒ¼å¯¾ç­–: 100vhã‚’é¿ã‘ã€dvh/--vhã‚’ä½¿ã† */
  height: 100dvh;
  height: calc(var(--vh) * 100);
  /* 1pxã ã‘ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½™åœ°ã‚’ä½œã£ã¦ã€UIãƒãƒ¼ã®è‡ªå‹•åç´ã‚’èª˜ç™º */
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  background: #f4f9ff;
  font-family: "Hiragino Sans", "Arial", sans-serif;
  touch-action: manipulation;
  -webkit-text-size-adjust: 100%;
  overscroll-behavior: none;
}
body {
  display: flex; justify-content: center; align-items: center;
  min-height: calc(100dvh + 1px);
  min-height: calc((var(--vh) * 100) + 1px);
}

  /* ã‚¿ã‚¤ãƒˆãƒ« */
  .title {
    position: fixed; top: 6vh; right: 6vw;
    font-size: clamp(24px, 6vw, 34px);
    font-weight: 600; letter-spacing: 0.08em;
    color: #333; z-index: 10; user-select: none;
  }

  /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
  .menu {
    position: fixed; right: 6vw; top: 24vh;
    display: flex; flex-direction: column; gap: 14px; z-index: 10;
  }
  .menu button {
    min-width: 180px; padding: 14px 18px;
    font-size: 17px; font-weight: 600; color: #333;
    background: rgba(255,255,255,0.9);
    border: 1.5px solid #ddd; border-radius: 12px;
    cursor: pointer; text-align: left;
    box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    transition: transform 0.1s;
    text-decoration: none; display: block;
  }
  .menu button:active { transform: scale(0.98); }
  .menu button.primary { background: #eef6ff; border-color: #c9ddff; color: #234; }

  /* èƒŒæ™¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
  .palm-wrap {
    width: 100vw; height: 100dvh; height: calc(var(--vh) * 100);
    animation: palm-sway 12s ease-in-out infinite;
    transform-origin: 35% 90%;
    pointer-events: none;
  }
  svg { width: 100vw; height: 100dvh; height: calc(var(--vh) * 100); transform: translateX(-22vw); }
  @keyframes palm-sway {
    0%,100% { transform: rotate(-0.8deg); }
    50%     { transform: rotate(0.8deg); }
  }
</style>
</head>
<body>

<div class="title">ã‚¦ã‚¯ãƒ¬ãƒ¬ã§ã‚ãã¼ã†</div>

<div class="menu">
  <button id="btn-start" class="primary" onclick="__go('game.html')">â–¶ ã¯ã˜ã‚ã‚‹</button>
  <button id="btn-tuning" onclick="__go('tuning.html')">ğŸµ ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°</button>
  <button id="btn-help" onclick="alert('éŸ³ã«åˆã‚ã›ã¦ç”»é¢ã‚’ã‚¿ãƒƒãƒ—ã—ãŸã‚Šã€å®Ÿéš›ã«ã‚¦ã‚¯ãƒ¬ãƒ¬ã‚’å¼¾ã„ã¦éŠã¶ã‚²ãƒ¼ãƒ ã§ã™ï¼')">ï¼Ÿ ã¤ã‹ã„ã‹ãŸ</button>
</div>

<div class="palm-wrap">
<svg viewBox="0 0 800 600" preserveAspectRatio="xMidYMid meet" aria-hidden="true">
  <ellipse cx="400" cy="500" rx="260" ry="60" fill="#cfeeb0"/>
  <path d="M360 480 C300 360, 340 260, 330 160 C320 80, 300 40, 280 20 L320 20 C360 60, 380 120, 390 200 C400 300, 380 380, 420 480 Z" fill="#7a4a21"/>
  <path d="M310 350 Q350 340 380 330" stroke="#d8b04c" stroke-width="8" fill="none"/>
  <path d="M300 300 Q340 290 370 280" stroke="#d8b04c" stroke-width="8" fill="none"/>
  <path d="M295 250 Q330 240 360 230" stroke="#d8b04c" stroke-width="8" fill="none"/>
  <g fill="#6aaa1f">
    <path d="M330 40 C180 20, 60 120, 40 200"/>
    <path d="M330 40 C200 0, 120 40, 90 100"/>
    <path d="M330 40 C460 20, 580 120, 620 220"/>
    <path d="M330 40 C480 0, 620 40, 660 120"/>
    <path d="M330 50 C310 10, 330 0, 350 -20"/>
  </g>
  <circle cx="340" cy="60" r="18" fill="#c8b04a"/>
  <circle cx="365" cy="65" r="18" fill="#c8b04a"/>
  <g transform="translate(440 420) rotate(-15)">
    <ellipse cx="50" cy="80" rx="45" ry="60" fill="#c68642"/>
    <ellipse cx="50" cy="80" rx="12" ry="16" fill="#5a3a1a"/>
    <rect x="44" y="10" width="12" height="70" fill="#b5651d"/>
    <rect x="30" y="-20" width="40" height="20" rx="5" fill="#d79a3a"/>
    <line x1="48" y1="10" x2="48" y2="150" stroke="#ffffff" stroke-width="2"/>
    <line x1="52" y1="10" x2="52" y2="150" stroke="#ffffff" stroke-width="2"/>
  </g>
</svg>
</div>


<!-- 1px spacer: Safariã®UIãƒãƒ¼åç´ã‚’èª˜ç™ºã™ã‚‹ãŸã‚ã®â€œã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½™åœ°â€ -->
<div id="uiHideSpacer" style="height:1px;width:1px;opacity:0;"></div>

<div style="position:fixed;right:10px;bottom:10px;z-index:9999;padding:6px 10px;border-radius:12px;background:rgba(255,255,255,0.92);color:#111;font-size:12px;font-weight:900;">
index_uihide_try_v1
</div>

<script>
(function(){
  const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
  const isStandalone = () => (window.navigator.standalone === true) || (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches);

  function setVh(){
    const vv = window.visualViewport;
    const h = vv ? vv.height : (document.documentElement.clientHeight || window.innerHeight);
    document.documentElement.style.setProperty('--vh', (h * 0.01) + 'px');
  }
  setVh();
  if(window.visualViewport){
    window.visualViewport.addEventListener('resize', setVh);
  }
  window.addEventListener('resize', setVh);
  window.addEventListener('orientationchange', () => setTimeout(setVh, 250));

  function attemptHideBars(){
    if(!isIOS) return;
    if(isStandalone()) return;
    // â€œãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œç›´å¾Œâ€ã«å°ã•ãã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦UIãƒãƒ¼åç´ã‚’èª˜ç™ºï¼ˆåŠ¹ã‹ãªã„ç«¯æœ«ã‚‚ã‚ã‚Šã¾ã™ï¼‰
    try{
      const root = document.documentElement;
      const prev = root.style.overflowY;
      root.style.overflowY = 'auto';
      // ä½•å›ã‹è©¦ã™ï¼ˆæ¨ªå‘ãã¯æˆåŠŸç‡ãŒè½ã¡ã‚‹ï¼‰
      window.scrollTo(0, 1);
      setTimeout(() => window.scrollTo(0, 0), 60);
      setTimeout(() => window.scrollTo(0, 2), 160);
      setTimeout(() => window.scrollTo(0, 0), 220);
      setTimeout(() => { root.style.overflowY = prev; }, 420);
    }catch(e){}
  }

  // åˆå›ã‚¿ãƒƒãƒ—ã§ä¸€åº¦ã ã‘è©¦ã™ï¼ˆindexã®è¦‹æ „ãˆæ”¹å–„ç”¨ï¼‰
  let armed = true;
  function onFirst(){
    if(!armed) return;
    armed = false;
    attemptHideBars();
  }
  document.addEventListener('touchstart', onFirst, {passive:true});
  document.addEventListener('click', onFirst, {passive:true});

  // ç”»é¢å›è»¢å¾Œã¯ã‚‚ã†ä¸€åº¦è©¦ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹
  window.addEventListener('orientationchange', () => { armed = true; });

  // ãƒœã‚¿ãƒ³é·ç§»ã¯â€œè©¦ã—ã¦ã‹ã‚‰â€ç§»å‹•
  window.__go = function(url){
    attemptHideBars();
    setTimeout(() => { location.href = url; }, 140);
  };
})();
</script>
</body>
</html>